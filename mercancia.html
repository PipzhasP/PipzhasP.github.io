<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Comprar Mercancía - Mundo Metal</title>
  <link href="https://fonts.googleapis.com/css2?family=Metal+Mania&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="metal.css">
  <style>
    body {
      font-family: 'Metal Mania', cursive;
      text-align: center;
      background-color: #222;
      color: #fff;
      padding: 20px;
    }
    h1, h2 {
      margin-bottom: 20px;
    }
    .gallery img {
      width: 150px;
      height: 150px;
      margin: 10px;
      cursor: pointer;
    }
    .btn {
      padding: 10px 20px;
      background-color: #555;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin: 10px 0;
    }
    .btn:hover {
      background-color: #999;
    }
    .section-container {
      margin-top: 20px;
      padding: 10px;
      text-align: left;
      display: inline-block;
      background-color: #333;
      border-radius: 5px;
      max-width: 500px;
      width: 100%;
    }
    label {
      display: block;
      margin: 5px 0;
    }
    input[type="number"], input[type="text"] {
      padding: 5px;
      width: 100%;
      margin-bottom: 10px;
      border-radius: 3px;
      border: 1px solid #555;
      background-color: #fff;
      color: #222;
    }
  </style>
</head>
<body>

  <h1>Mercancía Oficial del Mundo Metal</h1> 
  <p>Consigue productos exclusivos de tus bandas favoritas.</p> 
  <h2>Categorías Disponibles:</h2> <ul> <li>Camisetas y Sudaderas</li> 
    <li>Discos y Vinilos</li> <li>Pósters y Stickers</li>
     <li>Accesorios y Joyería</li> <li>Ediciones Especiales y Coleccionables</li>
     </ul> <h2>Galería de Productos</h2> <div class="gallery"> <img src="camiseta-metallica.jpeg" alt="Camiseta Metallica"> <img src="vinilo-iron-maiden.jpg" alt="Vinilo Iron Maiden"> 
    <img src="poster-slipknot.jpg" alt="Póster Slipknot"> </div>
  <!-- Productos y total -->
  <h2>Simula tu compra</h2>
  <div class="section-container">
    <p>Selecciona los artículos que deseas:</p>
    <label><input type="checkbox" value="25" class="producto"> Camiseta - $25</label>
    <label><input type="checkbox" value="40" class="producto"> Vinilo - $40</label>
    <label><input type="checkbox" value="15" class="producto"> Póster - $15</label>
    <button class="btn" onclick="calcularTotal()">Calcular Total</button>
    <p id="total"></p>
  </div>

  <!-- Detalles de Pago y Envío -->
  <h2>Detalles de Pago y Envío</h2>
  <div class="section-container">
    <label>Método de Pago: Tarjeta</label>
    
    <label>Número de Tarjeta:</label>
    <input type="number" id="tarjeta" placeholder="Ingrese su número de tarjeta">

    <label>Fecha de Expiración (MM/AA):</label>
    <input type="text" id="expiracion" placeholder="MM/AA">

    <label>CVV:</label>
    <input type="number" id="cvv" placeholder="Ingrese su CVV">

    <h3>Detalles de Envío</h3>

    <label>Calle:</label>
    <input type="text" id="calle" placeholder="Ingrese la calle">

    <label>Colonia:</label>
    <input type="text" id="colonia" placeholder="Ingrese la colonia">

    <label>Referencia:</label>
    <input type="text" id="referencia" placeholder="Ingrese una referencia">

    <label>Domicilio:</label>
    <input type="text" id="domicilio" placeholder="Ingrese el domicilio">

    <label>Fraccionamiento:</label>
    <input type="text" id="fraccionamiento" placeholder="Ingrese el fraccionamiento">

    <label>Código Postal:</label>
    <input type="text" id="codigoPostal" placeholder="Ingrese el código postal">

    <label>Municipio:</label>
    <input type="text" id="municipio" placeholder="Ingrese el municipio">

    <label>Teléfono:</label>
    <input type="text" id="telefono" placeholder="Ingrese un número de teléfono">

    <button class="btn" onclick="realizarPedido()">Realizar Pedido</button>
    <p id="mensaje"></p>
  </div>

  <!-- Buscador de Artículos -->
  <h2>Buscador de Artículos</h2>
  <input type="text" id="buscador" placeholder="Busca tu artículo favorito...">
  <button class="btn" onclick="buscarArticulo()">Buscar</button>
  <p id="resultado-busqueda"></p>

  <div class="offers">
    <h2>Ofertas Especiales</h2>
    <p>¡Aprovecha descuentos en vinilos y camisetas! Solo por tiempo limitado.</p>
  </div>

  <a href="metal.html">Volver a la página principal</a>

  <script>
    // Función para calcular el total de la compra
    function calcularTotal() {
      let productos = document.querySelectorAll('.producto:checked');
      let total = 0;
      productos.forEach(function(producto) {
        total += parseInt(producto.value);
      });
      document.getElementById("total").innerText = "Total a pagar: $" + total;
    }

    // Función para realizar el pedido con validación de campos
    function realizarPedido() {
      const tarjeta = document.getElementById("tarjeta").value;
      const expiracion = document.getElementById("expiracion").value;
      const cvv = document.getElementById("cvv").value;
      const calle = document.getElementById("calle").value;
      const colonia = document.getElementById("colonia").value;
      const referencia = document.getElementById("referencia").value;
      const domicilio = document.getElementById("domicilio").value;
      const fraccionamiento = document.getElementById("fraccionamiento").value;
      const codigoPostal = document.getElementById("codigoPostal").value;
      const municipio = document.getElementById("municipio").value;
      const telefono = document.getElementById("telefono").value;
      const totalText = document.getElementById("total").innerText;

      // Validar que ningún campo esté vacío
      if (tarjeta.trim() === "" || expiracion.trim() === "" || cvv.trim() === "" ||
          calle.trim() === "" || colonia.trim() === "" || referencia.trim() === "" ||
          domicilio.trim() === "" || fraccionamiento.trim() === "" ||
          codigoPostal.trim() === "" || municipio.trim() === "" || telefono.trim() === "") {
        document.getElementById("mensaje").innerText = "Por favor, complete todos los campos de pago y envío.";
        return;
      }

      // Validar número de tarjeta (16 dígitos)
      if (!/^\d{16}$/.test(tarjeta)) {
        document.getElementById("mensaje").innerText = "Número de tarjeta inválido. Debe contener 16 dígitos.";
        return;
      }
      
      // Validar fecha de expiración (formato MM/AA)
      if (!/^\d{2}\/\d{2}$/.test(expiracion)) {
        document.getElementById("mensaje").innerText = "Fecha de expiración inválida. Use el formato MM/AA.";
        return;
      }
      
      // Validar CVV (3 dígitos)
      if (!/^\d{3}$/.test(cvv)) {
        document.getElementById("mensaje").innerText = "CVV inválido. Debe contener 3 dígitos.";
        return;
      }
      
      // Validar Código Postal (5 dígitos)
      if (!/^\d{5}$/.test(codigoPostal)) {
        document.getElementById("mensaje").innerText = "Código postal inválido. Debe contener 5 dígitos.";
        return;
      }
      
      // Validar teléfono (entre 10 y 15 dígitos)
      if (!/^\d{10,15}$/.test(telefono)) {
        document.getElementById("mensaje").innerText = "Número de teléfono inválido.";
        return;
      }
      
      // Validar que se haya seleccionado al menos un artículo
      if(totalText === "" || totalText === "Total a pagar: $0") {
        document.getElementById("mensaje").innerText = "Por favor, selecciona al menos un artículo.";
        return;
      }
      
      // Construir la dirección completa a partir de los datos ingresados
      const shippingAddress = 
            "Calle: " + calle + ", Colonia: " + colonia + ", Referencia: " + referencia +
            ", Domicilio: " + domicilio + ", Fraccionamiento: " + fraccionamiento +
            ", Código Postal: " + codigoPostal + ", Municipio: " + municipio + 
            ", Teléfono: " + telefono;
      
      // Mostrar mensaje de éxito
      document.getElementById("mensaje").innerText = "Pedido realizado con éxito. " + totalText + ". Se enviará a: " + shippingAddress;
    }

    // Función para buscar artículos
    function buscarArticulo() {
      const query = document.getElementById("buscador").value.toLowerCase();
      let resultado = "";
      if (query.includes("camiseta")) {
        resultado = "Tenemos varias camisetas de Metallica, Iron Maiden y más.";
      } else if (query.includes("vinilo")) {
        resultado = "Encuentra vinilos clásicos de Megadeth, Slayer y otras bandas.";
      } else if (query.includes("poster")) {
        resultado = "Posters épicos de Slipknot, Black Sabbath y más disponibles.";
      } else {
        resultado = "Lo sentimos, no encontramos ese artículo.";
      }
      document.getElementById("resultado-busqueda").innerText = resultado;
    }
  </script>

</body>
</html>
